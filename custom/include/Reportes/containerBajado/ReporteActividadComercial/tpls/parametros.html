<script type="text/javascript"  src="custom/include/scripts/genericas/varios/jquery.js"></script>
<script type="text/javascript"  src="custom/include/scripts/genericas/jquery/js/jquery-ui.min.js"></script>
<script type='text/javascript' src='custom/include/Reportes/scripts/jquery.dataTables.js'></script>
<script type='text/javascript' src='custom/include/Reportes/scripts/sp_reportes.js'></script>
<script type='text/javascript' src='custom/include/Reportes/container/{$reporte}/scripts/script.js'></script>
<script type='text/javascript' src='custom/include/Reportes/openflash/js/swfobject.js'></script>
<script type='text/javascript' src='custom/include/Reportes/openflash/js/json/json2.js'></script>
<script type='text/javascript' src='include/javascript/sugar_grp_overlib.js'></script>
<script type="text/javascript" charset="utf-8" src="custom/include/Reportes/scripts/tabletools/media/js/ZeroClipboard.js"></script>
<script type='text/javascript' src='custom/include/Reportes/scripts/tabletools/media/js/TableTools.js'></script>



<link rel='stylesheet' href='custom/include/Reportes/scripts/tabletools/media/css/TableTools.css' type='text/css' />
<link rel="stylesheet" type="text/css" href="custom/include/scripts/genericas/jquery/css/jquery-ui.css" />
<link rel='stylesheet' href='custom/include/Reportes/css/sp_reportes_css.css' type='text/css' />
<link rel='stylesheet' href='custom/include/Reportes/css/demo_page.css' type='text/css' />
<link rel='stylesheet' href='custom/include/Reportes/css/demo_table.css' type='text/css' />
<link rel="stylesheet" type="text/css" href="custom/include/css/tablas/style.css" />


<form name="SP_Reporte" id="SP_Reporte" method="POST" action="" >
<input type="hidden" name="reportes" id="reportes" value="{$reportes}">
<input type="hidden" name="module" id="module" value="{$module}">
<input type="hidden" name="action" id="action" value="{$action}">
<input type="hidden" name="nombre_reporte" id="nombre_reporte" value="{$reporte}">

<table width="80%"  id="rounded-corner">
<thead>
<tr>
<th colspan="2" class="rounded-company"><div id="titulo">{$title}</div></th>
<th colspan="2" class="rounded-q4">
    <div style="text-align: right;"><img src="custom/include/Reportes/images/information.png" onclick="javascript:mostrar_descripcion();"></img></div>
</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4"><div id="descripcion_reportes" style="display:none;"><p style="font-size:14px;">{$descripcion}</p></div></td>
</tr>
<tr>
<td><div id="texto_filtros">Fecha Inicial:<span style="color:#FF0000;">*</span></div></td>
<td><input name='fecha_inicial' onblur="parseDate(this, '%Y-%m-%d');" id='jscal_field' type="text" tabindex='1' size='11' maxlength='10' value="{$fecha_inicial}"> <img src="{sugar_getimagepath file='jscalendar.gif'}" alt="{$APP.LBL_ENTER_DATE}"  id="jscal_trigger" align="absmiddle"> <span class="dateFormat">yyyy-mm-dd</span></slot></td></td>
<td><div id="texto_filtros">Fecha Final:<span style="color:#FF0000;">*</span></div></td>
<td><input name='fecha_final' onblur="parseDate(this, '%Y-%m-%d');" id='jscal1_field' type="text" tabindex='1' size='11' maxlength='10' value="{$fecha_final}"> <img src="{sugar_getimagepath file='jscalendar.gif'}" alt="{$APP.LBL_ENTER_DATE}"  id="jscal1_trigger" align="absmiddle"> <span class="dateFormat">yyyy-mm-dd</span></slot></td>
</tr>
<tr>
    <td>
        <div id="texto_filtros">Usuarios</div>
    </td>
    <td>
       <select name="usuarios[]" id="usuarios" multiple size="3">
             {$selected_user}
        </select>
    </td>
    <td>
        <div id="texto_filtros">Categoria</div>
    </td>
    <td>
         <select name="categoria[]" id="categoria"  >
             {$selected_categoria}
        </select>
    </td>
</tr>


<tr>
    <td>
        <div id="texto_filtros">Programas</div>
    </td>
    <td>
       <select name="programas[]" id="programas" multiple size="3">
             {$selected_programas}
        </select>
    </td>
    <td>

    </td>
    <td>

    </td>
</tr>
<tr>
<td colspan="4">
<input type="submit" name="verreporte" id="verreporte" value="Ejecutar Reporte">
</td>
</tr>


</tbody>
</table>
</form>
<script type="text/javascript">
{literal}
Calendar.setup ({
	inputField : "jscal_field",
        daFormat : '%Y-%m-%d',
        onClose: function(cal) { cal.hide(); },
        showsTime : false,
        button : "jscal_trigger",
        singleClick : true,
        step : 1,
        weekNumbers:false
});
Calendar.setup ({
	inputField : "jscal1_field",
        daFormat : '%Y-%m-%d',
        onClose: function(cal) { cal.hide(); },
        showsTime : false,
        button : "jscal1_trigger",
        singleClick : true,
        step : 1,
        weekNumbers:false
});
{/literal}
</script>
{if $show_data==true}
<table width="100%"  class='display' id='example'>
<thead>
<tr>
    <th class="header">Programa</th>
    <th class="header">Cliente</th>
    <th class="header">Oportunidad</th>
    <th class="header">Etapa de Venta</th>
    <th class="header">Usuario Asignado</th>
    <th class="header">Usuario Creado por</th>
    <th class="header">Llamadas <br> Planificadas</th>
    <th class="header">Llamadas <br> Realizadas</th>
    <th class="header">Llamadas <br> No Realizadas</th>
    <th class="header">Reuniones <br> Planificadas</th>
    <th class="header">Reuniones <br> Realizadas</th>
    <th class="header">Reuniones <br> No Realizadas</th>
    


</tr>
</thead>
<tfoot>
    <tr>

    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>

    </tr>
</tfoot>
<tbody>

    {foreach key=key item=item from=$data}
    <tr>
        {foreach key=key item=item from=$item}
         <td align="center">
         {$item}
         </td>
        {/foreach}
    </tr>
{/foreach}
</tbody>
</table>
{/if}




<script type="text/javascript">
swfobject.embedSWF("open-flash-chart.swf", "my_chart", "500", "200", "9.0.0");
</script>

<script type="text/javascript">
   {literal}
function ofc_ready(){

}

function open_flash_chart_data(){

    if(typeof(data)=="string"){
        data=jQuery.parseJSON(data);

        return data;
}else{
        return JSON.stringify(data);
    }

}

function findSWF(movieName) {

  if (navigator.appName.indexOf("Microsoft")!= -1) {
    return window[movieName];
  } else {
    return document[movieName];
  }
}
{/literal}
    {literal}
        var data = {/literal}{$chart->toPrettyString()};

</script>


<form id="grafico_form" action="">
<div id="reporte_div" style="display: none;">
    <table width="80%"  id="rounded-corner" border="0">
        <thead>
        <tr>
        <th colspan="2" class="rounded-company"><div id="titulo">{$title}</div></th>
        <th colspan="2" class="rounded-q4"></th>
        </tr>
        <tr>
<td><div id="texto_filtros">
Asesores:</div>
</td>
<td>
<select name="usuarios_grafico[]" id="usuarios_grafico" multiple SIZE=5>
    {$selected_user}
</select>
<input type="checkbox" name="seleciona_u" id="selecciona_u" onclick="seleccionarTodo('usuarios_grafico',this);"/><div id="texto_filtros">Selecciona</div>
</td>
<td>
<div id="texto_filtros">
Tipo de Servicios
</div>
</td>
<td>
<select name="tiposervicio_grafico" id="tiposervicio_grafico">
    {$selected_tiposervicio}
</select>

</td>
</tr>
<tr>
<td><div id="texto_filtros">
Modelos:</div>
</td>
<td>
<select name="modelos_grafico" id="modelos_grafico">
    {$selected_modelos}
</select>

</td>
<td>
<div id="texto_filtros">
Categoria
</div>
</td>
<td>
<select name="categoria_grafico[]" id="categoria_grafico" multiple size="4">
    {$selected_categoria}
</select>
<input type="checkbox" name="seleciona_categoriag" id="seleciona_categoriag" onclick="seleccionarTodo('categoria_grafico',this);"/><div id="texto_filtros">Selecciona</div>
</td>
</tr>
<tr>
    <td><a href="javascript:void(0);" onclick="javascript:generar_reporte();">Generar Reporte</a></td>
</tr>

</thead>
<tbody>

</tbody>
</table>

<hr>

<div id="mi_grafico">
</div>

<div id="my_chart">
</div>

</div>
</form>
